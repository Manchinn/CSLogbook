# การทำงานของระบบฝึกงานใน CSLogbook ตามบทบาทผู้ใช้ (RBAC) - มุมมอง Frontend

เอกสารนี้อธิบายการทำงานและสิทธิ์การเข้าถึงส่วนต่างๆ ของระบบฝึกงานใน CSLogbook โดยแบ่งตามบทบาทของผู้ใช้ (Role-Based Access Control - RBAC) โดยอ้างอิงจากการวิเคราะห์โครงสร้างไฟล์และโค้ดในส่วน Frontend

## 1. บทบาท: นักศึกษา (Student)

นักศึกษาเป็นผู้ใช้งานหลักที่ดำเนินการบันทึกและติดตามความคืบหน้าการฝึกงานของตนเอง

*   **การยื่นคำร้องขอฝึกงาน (คพ.05):**
    *   **Component หลัก:** [`CS05Form.js`](c:\Users\chinn\CSLog\cslogbook\frontend\src\components\internship\registration\CS05Form.js)
    *   **การทำงาน:**
        *   กรอกและยื่นแบบฟอร์ม คพ.05 พร้อมแนบเอกสาร (ถ้ามี)
        *   ดูสถานะคำร้องของตนเอง (รออนุมัติ, อนุมัติแล้ว, ไม่อนุมัติ)
*   **การบันทึกการปฏิบัติงานประจำวัน (Timesheet/Logbook):**
    *   **Component หลัก:** [`TimeSheet/index.js`](c:\Users\chinn\CSLog\cslogbook\frontend\src\components\internship\logbook\TimeSheet\index.js) และ [`EditModal.js`](c:\Users\chinn\CSLog\cslogbook\frontend\src\components\internship\logbook\TimeSheet\EditModal.js) (สำหรับเพิ่ม/แก้ไขข้อมูล)
    *   **การทำงาน:**
        *   บันทึกเวลาเข้า-ออกงาน, รายละเอียดงาน, ปัญหาและวิธีแก้ไขในแต่ละวัน
        *   ดูประวัติการบันทึกของตนเอง
        *   เห็นสถานะการอนุมัติบันทึกรายวันจากอาจารย์ที่ปรึกษา/ผู้ควบคุม
*   **การสรุปผลและสะท้อนประสบการณ์ (Reflection):**
    *   **Component หลัก:** [`ReflectionForm.js`](c:\Users\chinn\CSLog\cslogbook\frontend\src\components\internship\summary\ReflectionForm.js)
    *   **การทำงาน:**
        *   กรอกแบบฟอร์มสรุปสิ่งที่ได้เรียนรู้, ทักษะที่ได้รับ, และข้อเสนอแนะเมื่อสิ้นสุดการฝึกงาน
*   **การดูภาพรวมและสรุปผล (Summary):**
    *   **Component หลัก:** [`Summary.js`](c:\Users\chinn\CSLog\cslogbook\frontend\src\components\internship\summary\Summary.js)
    *   **การทำงาน:**
        *   ดูภาพรวมชั่วโมงการทำงาน, ความคืบหน้า, สถิติต่างๆ ของตนเอง
        *   ดาวน์โหลดเอกสารสรุปผลการฝึกงานของตนเอง
        *   ดูผลการประเมินจากพี่เลี้ยง (ถ้ามีและระบบอนุญาตให้ดู)
        *   ส่งแบบฟอร์มประเมินให้พี่เลี้ยง (ถ้ากระบวนการกำหนดให้นักศึกษาเป็นผู้ส่ง)

## 2. บทบาท: อาจารย์ที่ปรึกษา / ผู้ควบคุมการฝึกงาน (Advisor / Supervisor)

อาจารย์ที่ปรึกษาหรือผู้ควบคุมการฝึกงาน (ซึ่งอาจเป็นบุคคลจากสถานประกอบการ) จะมีหน้าที่ในการตรวจสอบ อนุมัติ และประเมินผลการฝึกงานของนักศึกษาในความดูแล

*   **การพิจารณาและอนุมัติคำร้อง คพ.05:**
    *   **การทำงานที่คาดหวัง (Frontend):**
        *   อาจมีหน้า Dashboard หรือรายการที่แสดงคำร้อง คพ.05 ที่รอดำเนินการจากนักศึกษาในที่ปรึกษา
        *   สามารถดูรายละเอียดคำร้อง คพ.05 ที่นักศึกษาส่งมา (อาจเป็นการแสดงผลข้อมูลจาก [`CS05Form.js`](c:\Users\chinn\CSLog\cslogbook\frontend\src\components\internship\registration\CS05Form.js) ในโหมดอ่านอย่างเดียวสำหรับอาจารย์)
        *   มีปุ่มสำหรับ "อนุมัติ" หรือ "ไม่อนุมัติ" คำร้อง พร้อมระบุเหตุผล (ถ้ามี)
*   **การตรวจสอบและอนุมัติการบันทึกการปฏิบัติงาน (Timesheet Review & Approval):**
    *   **Component ที่เกี่ยวข้อง:** [`TimeSheet/index.js`](c:\Users\chinn\CSLog\cslogbook\frontend\src\components\internship\logbook\TimeSheet\index.js)
    *   **การทำงาน:**
        *   โค้ดใน [`TimeSheet/index.js`](c:\Users\chinn\CSLog\cslogbook\frontend\src\components\internship\logbook\TimeSheet\index.js) มีการตรวจสอบ `isSupervisorOrAdmin` ซึ่งจะส่งผลต่อการแสดงคอลัมน์ (เช่น คอลัมน์ "สถานะการอนุมัติ", "ผู้อนุมัติ") และการกระทำที่สามารถทำได้
        *   อาจารย์สามารถดูบันทึกการปฏิบัติงานรายวันของนักศึกษาในความดูแล
        *   สามารถ "อนุมัติ" หรือ "ไม่อนุมัติ" บันทึกแต่ละรายการ หรือหลายรายการพร้อมกัน
        *   อาจสามารถให้ความคิดเห็นเพิ่มเติมในแต่ละบันทึกได้
*   **การตรวจสอบบทสรุปและสะท้อนประสบการณ์ (Reflection Review):**
    *   **การทำงานที่คาดหวัง (Frontend):**
        *   สามารถเข้าดูเนื้อหาที่นักศึกษากรอกใน [`ReflectionForm.js`](c:\Users\chinn\CSLog\cslogbook\frontend\src\components\internship\summary\ReflectionForm.js) ในโหมดอ่านอย่างเดียว
*   **การประเมินผลการฝึกงาน (Internship Evaluation):**
    *   **Component หลัก:** [`SupervisorEvaluation.js`](c:\Users\chinn\CSLog\cslogbook\frontend\src\components\internship\evaluation\SupervisorEvaluation.js) และหน้า [`SupervisorEvaluationPage.js`](c:\Users\chinn\CSLog\cslogbook\frontend\src\pages\SupervisorEvaluationPage.js)
    *   **การทำงาน:**
        *   กรอกแบบฟอร์มประเมินผลการฝึกงานของนักศึกษาตามหัวข้อที่กำหนด
        *   ให้คะแนนและข้อเสนอแนะ
*   **การดูภาพรวมความคืบหน้าของนักศึกษาในที่ปรึกษา:**
    *   **การทำงานที่คาดหวัง (Frontend):**
        *   อาจมีหน้า Dashboard ที่สรุปความคืบหน้าของนักศึกษาแต่ละคนที่อยู่ในความดูแล (เช่น สถานะ คพ.05, จำนวนชั่วโมงที่บันทึก, สถานะการส่ง Reflection)
        *   สามารถเข้าถึงข้อมูลการฝึกงานของนักศึกษาแต่ละคนได้โดยง่าย

## 3. บทบาท: ผู้ดูแลระบบ (Admin)

ผู้ดูแลระบบจะมีสิทธิ์เข้าถึงข้อมูลทั้งหมดในระบบฝึกงาน และอาจมีหน้าที่ในการจัดการการตั้งค่าโดยรวม

*   **การเข้าถึงข้อมูลทั้งหมด (Full Data Access):**
    *   **การทำงานที่คาดหวัง (Frontend):**
        *   สามารถดูข้อมูล คพ.05, Timesheet, Reflection, และ Evaluation ของนักศึกษาทุกคนในระบบ
        *   การตรวจสอบ `isSupervisorOrAdmin` ใน [`TimeSheet/index.js`](c:\Users\chinn\CSLog\cslogbook\frontend\src\components\internship\logbook\TimeSheet\index.js) ชี้ให้เห็นว่าผู้ดูแลระบบมีสิทธิ์ในการดูและอาจจะจัดการข้อมูล Timesheet ได้เช่นกัน
*   **การจัดการผู้ใช้และบทบาทที่เกี่ยวข้องกับการฝึกงาน:**
    *   **การทำงานที่คาดหวัง (Frontend):**
        *   อาจมีหน้าสำหรับจัดการการจับคู่ระหว่างนักศึกษากับอาจารย์ที่ปรึกษา
        *   กำหนดสิทธิ์การเข้าถึงต่างๆ ที่เกี่ยวข้องกับโมดูลฝึกงาน
*   **การตั้งค่าระบบฝึกงาน (Internship Module Configuration):**
    *   **การทำงานที่คาดหวัง (Frontend):**
        *   อาจสามารถกำหนดช่วงเวลาการเปิดรับยื่น คพ.05, แก้ไข Template ของแบบฟอร์มต่างๆ (ถ้าโครงสร้างระบบรองรับ)
*   **การดูรายงานและสถิติภาพรวม (Overall Reports and Statistics):**
    *   **การทำงานที่คาดหวัง (Frontend):**
        *   สามารถสร้างหรือดูรายงานสรุปภาพรวมการฝึกงานทั้งหมด เช่น จำนวนนักศึกษาที่เข้าร่วม, สถานประกอบการ, ผลการประเมินเฉลี่ย
*   **การแก้ไขปัญหาและดำเนินการแทน (Troubleshooting and Overrides):**
    *   **การทำงานที่คาดหวัง (Frontend):**
        *   ในกรณีพิเศษ อาจสามารถแก้ไขสถานะต่างๆ หรือข้อมูลบางอย่างในระบบได้ (เช่น การอนุมัติ คพ.05 แทนอาจารย์ที่ปรึกษาในกรณีจำเป็น)

### การควบคุมการแสดงผลใน Frontend ตามบทบาท:

*   **การใช้ Context API:** [`AuthContext.js`](c:\Users\chinn\CSLog\cslogbook\frontend\src\contexts\AuthContext.js) น่าจะเก็บข้อมูลบทบาทของผู้ใช้ที่ล็อกอินเข้ามา
*   **Conditional Rendering:** Components ต่างๆ จะมีการตรวจสอบบทบาทของผู้ใช้จาก Context เพื่อตัดสินใจว่าจะแสดงผล UI ส่วนใด หรืออนุญาตให้กระทำการใดได้บ้าง (เช่น ปุ่ม "อนุมัติ" จะแสดงเฉพาะผู้ใช้ที่มีบทบาทเป็นอาจารย์ที่ปรึกษาหรือผู้ดูแลระบบ)
*   **Route Protection:** [`React Router`](https://reactrouter.com/) อาจถูกใช้ร่วมกับข้อมูลบทบาทเพื่อจำกัดการเข้าถึงบางหน้าสำหรับผู้ใช้บางกลุ่มเท่านั้น

การแบ่งบทบาทและสิทธิ์การเข้าถึงนี้ช่วยให้ระบบมีความปลอดภัยและเหมาะสมกับการใช้งานของผู้ใช้แต่ละกลุ่ม ทำให้แต่ละคนสามารถโฟกัสกับหน้าที่และความรับผิดชอบของตนเองได้อย่างมีประสิทธิภาพ