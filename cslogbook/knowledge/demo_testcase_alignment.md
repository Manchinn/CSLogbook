# แผน Test Case สำหรับสาธิตระบบ CSLogbook

> เอกสารนี้รวบรวมรายละเอียด Test Case, Edge Case และ Best Practice ที่ใช้สาธิตระบบ CSLogbook โดยอ้างอิงจากเอกสาร `Test Case.pdf` ที่มีอยู่ พร้อมจัดกลุ่มตาม Flow สำคัญของระบบ (ฝึกงาน, โครงงานพิเศษ, เจ้าหน้าที่, หัวหน้าภาค, พี่เลี้ยง/อาจารย์) เพื่อช่วยทีมเตรียมสคริปต์การ Demo ได้ครบถ้วน

---

## 1. ข้อมูลจากเอกสาร Test Case.pdf

| กลุ่มผู้ใช้ / โมดูล | เนื้อหาที่ครอบคลุม | หมายเหตุ |
|---------------------|--------------------|----------|
| การเข้าสู่ระบบ | ทดสอบล็อกอินนักศึกษา / เจ้าหน้าที่ / อาจารย์ / หัวหน้าภาค, กรณีข้อมูลไม่ถูกต้อง | มีเฉพาะ happy path + invalid credential พื้นฐาน |
| ระบบฝึกงาน (นักศึกษา) | ปรับข้อมูลส่วนตัว, ส่ง/แก้ใบคำร้อง คพ.05, พิมพ์หนังสือขอความอนุเคราะห์, อัปโหลดหนังสือตอบรับ, บันทึก logbook, ส่งอีเมลขออนุมัติ, ขอหนังสือรับรอง | ครอบคลุมกระบวนการหลักเกือบครบ แต่ยังขาด validation edge บางจุด |
| ระบบฝึกงาน (เจ้าหน้าที่) | ปรับหน่วยกิต, ตรวจ/อนุมัติ/ปฏิเสธ คพ.05 และหนังสือตอบรับ, เพิ่มกำหนดการ, อัปโหลดนักศึกษา, เพิ่มอาจารย์, อนุมัติหนังสือรับรอง | Happy path และการปฏิเสธเอกสารมีบางส่วน แต่ยังไม่มีกลไก edge เรื่องไฟล์หรือสถานะ Active |
| ระบบฝึกงาน (หัวหน้าภาค) | อนุมัติหนังสือขอความอนุเคราะห์, อนุมัติหนังสือตอบรับ | ไม่มีกรณีปฏิเสธ / ย้อนกลับ |
| โครงงานพิเศษ | ยื่นหัวข้อ KP01 และบันทึกรายละเอียด | ยังไม่ครอบคลุม KP02, การสอบ, การปิดโปรเจ็กต์ |
| พี่เลี้ยง / Supervisor | รับอีเมลประเมินและกรอกแบบประเมินออนไลน์ | มีเฉพาะ happy path |

---

## 2. ชุด Test Scenario สำหรับการ Demo (ออกแบบเพิ่มเติม)
ตารางด้านล่างจัดกลุ่มสถานการณ์ตาม Flow พร้อมระบุประเภทของ Test Case (Happy ✅ / Edge ⚠️ / Negative ❌) และจุดที่ควรเน้นระหว่างการสาธิต

### 2.1 การเข้าสู่ระบบและสิทธิ์ผู้ใช้

| ประเภท | สถานการณ์ | สิ่งที่ต้องโชว์ | ผลลัพธ์คาดหวัง | สคริปต์แนะนำ |
|---------|------------|-----------------|-----------------|----------------|
| ✅ | Support staff ล็อกอินเห็นเมนูตั้งค่าครบ | Dashboard หลังล็อกอิน | แสดงเมนูตั้งค่าระบบ | เน้นว่า role support เห็นเมนูบริหารครบ |
| ⚠️ | บัญชีถูก deactivate | ลองล็อกอินด้วยบัญชีที่ถูกปิด | ระบบปฏิเสธและแจ้งเตือน | อธิบายกระบวนการเปิดสิทธิ์ใหม่ |
| ❌ | เข้าหน้า Admin โดยไม่มี token | เปิดแท็บ incognito ไปยัง `/admin` | ระบบ redirect ไปหน้า login | เน้นความปลอดภัยของ session |

### 2.2 การตั้งค่าหลักสูตรและปีการศึกษา (Support Staff)

| ประเภท | สถานการณ์ | สิ่งที่ต้องโชว์ | ผลลัพธ์คาดหวัง | Best Practice |
|---------|------------|-----------------|-----------------|---------------|
| ✅ | เพิ่มหลักสูตรใหม่ (CS2568) | ฟอร์มเพิ่มหลักสูตร | รายการใหม่ active | เตรียมข้อมูลที่กรอกเร็ว |
| ⚠️ | เปิด active พร้อมกัน 2 หลักสูตร | สลับสถานะ active สองหลักสูตร | ระบบเตือน/บังคับให้มี active เดียว | ชี้ให้เห็น business rule | 
| ❌ | กรอกรหัสหลักสูตรซ้ำ | ทดลองบันทึก code ที่มีอยู่แล้ว | ระบบไม่อนุญาตและแจ้งข้อผิดพลาด | พูดถึง validation ฝั่ง backend |

### 2.3 การตั้งค่าปีการศึกษาและกำหนดการ

| ประเภท | สถานการณ์ | สิ่งที่ต้องโชว์ | ผลลัพธ์คาดหวัง | Best Practice |
|---------|------------|-----------------|-----------------|---------------|
| ✅ | สร้างปี 2568 เทอม 1 | ฟอร์ม Academic Setting | is_current = true | โชว์ timeline อัปเดต |
| ⚠️ | วันที่สิ้นสุดน้อยกว่าวันเริ่มต้น | กรอกช่วงวันที่ผิด | ระบบไม่ให้บันทึก | ย้ำ date validation |
| ❌ | ตัดปีการศึกษาปัจจุบันโดยไม่สร้างใหม่ | ปิด is_current โดยไม่ตั้งค่าตัวใหม่ | ระบบเตือน | อธิบายการเปิดเทอมใหม่ |

### 2.4 กำหนดเกณฑ์ Eligibility และอัปเดตสิทธิ์

| ประเภท | สถานการณ์ | สิ่งที่ต้องโชว์ | ผลลัพธ์คาดหวัง | Best Practice |
|---------|------------|-----------------|-----------------|---------------|
| ✅ | ตั้งขั้นต่ำหน่วยกิต 90 | หน้า Eligibility Rules | Agent ปรับสถานะนักศึกษาทัน | รัน agent ล่วงหน้าก่อน demo |
| ⚠️ | ปรับเกณฑ์กลางเทอม | เปรียบเทียบก่อน/หลัง | นักศึกษาบางรายกลายเป็น "ไม่ผ่าน" | แนะนำขั้นตอนประกาศแจ้ง |
| ❌ | ลบค่าเกณฑ์ทั้งหมด | ลองเคลียร์ทุกช่อง | ระบบบังคับกรอก | ชี้ว่ามี guard built-in |

### 2.5 Bulk Upload และการจัดการข้อมูลนักศึกษา

| ประเภท | สถานการณ์ | สิ่งที่ต้องโชว์ | ผลลัพธ์คาดหวัง | Best Practice |
|---------|------------|-----------------|-----------------|---------------|
| ✅ | อัปโหลด CSV ถูกต้อง | Template + Preview | สรุปจำนวนเพิ่ม/อัปเดต | โชว์ปุ่ม download log |
| ⚠️ | curriculum_code ไม่ตรง | ไฟล์มีหนึ่งแถวผิด | Preview แสดง error พร้อมบรรทัด | อธิบายการแก้ไขทีละแถว |
| ❌ | ไฟล์ใหญ่เกินกำหนด | อัปโหลด >5MB | ระบบปฏิเสธพร้อมคำอธิบาย | นำเสนอแนวทางแบ่งไฟล์ |

### 2.6 Flow นักศึกษา – ฝึกงาน

| Step | ประเภท | Test Case | ผลลัพธ์คาดหวัง | เคล็ดลับนำเสนอ |
|------|---------|-----------|-----------------|------------------|
| S1 Eligibility | ✅ | นักศึกษาผ่านเกณฑ์ | Badge "พร้อมยื่นฝึกงาน" | ใช้ dashboard นักศึกษาจริง |
|  | ⚠️ | หน่วยกิตไม่ครบ | การ์ดเตือนพร้อมคำแนะนำ | เสริม contact ภาควิชา |
| S2 คำร้องคพ.05 | ✅ | ส่งคำร้องสมบูรณ์ + ไฟล์ | สถานะรออนุมัติ + Email | แสดง preview เอกสาร |
|  | ⚠️ | แนบไฟล์นามสกุลผิด | ระบบแจ้งเตือนทันที | ย้ำเรื่อง naming guideline |
| S3 ติดตามอนุมัติ | ✅ | Support + Head อนุมัติครบ | Timeline เปลี่ยนเป็น "อนุมัติ" | โชว์แจ้งเตือนอัตโนมัติ |
|  | ⚠️ | Support ปฏิเสธ | ฟอร์มกลับมาให้แก้ | สาธิตการแก้แล้วส่งใหม่ |
| S4 Logbook | ✅ | บันทึก + อนุมัติ | รายการอนุมัติพร้อม timestamp | สรุปจำนวนชั่วโมง | 
|  | ⚠️ | ชั่วโมงไม่ถึง | Banner เตือน | พูดถึง requirement 240 ชม. |
| S5 Reflection / Summary | ✅ | กรอก Reflection เสร็จ | ดาวน์โหลดรายงาน .pdf | แจกตัวอย่างให้ผู้ชม |
|  | ⚠️ | Supervisor ยังไม่ประเมิน | Badge "Pending" | แนะนำการส่ง reminder |

### 2.7 Flow อาจารย์และพี่เลี้ยง

| ประเภท | สถานการณ์ | สิ่งที่ต้องโชว์ | ผลลัพธ์คาดหวัง | Best Practice |
|---------|------------|-----------------|-----------------|---------------|
| ✅ | Advisor อนุมัติ logbook ผ่านมือถือ | Responsive view | อนุมัติสำเร็จ + Toast | ชูจุดเด่น responsive design |
| ⚠️ | Advisor ปฏิเสธพร้อมความคิดเห็น | Modal comment | นักศึกษาเห็น feedback | ใช้ภาษาที่เข้าใจง่าย |
| ❌ | ลิงก์ประเมินพี่เลี้ยงหมดอายุ | เปิดลิงก์เก่า | ระบบแจ้งหมดอายุ | เสนอวิธีขอส่งใหม่ |

### 2.8 Flow หัวหน้าภาค

| ประเภท | สถานการณ์ | สิ่งที่ต้องโชว์ | ผลลัพธ์คาดหวัง | Best Practice |
|---------|------------|-----------------|-----------------|---------------|
| ✅ | อนุมัติหนังสือขอความอนุเคราะห์ | Queue หัวหน้าภาค | สถานะเปลี่ยนเป็น "อนุมัติ" | ชี้ว่าหัวหน้าดูเฉพาะที่เจ้าหน้าที่กรองแล้ว |
| ⚠️ | ปฏิเสธเพราะข้อมูลไม่ครบ | ปุ่มปฏิเสธ + บันทึกเหตุผล | เอกสารย้อนกลับไปหา support | เพิ่มตัวอย่างข้อความแบบสั้น |

### 2.9 Flow โครงงานพิเศษ (Capstone)

| ขั้น | ประเภท | Test Case | สิ่งที่โชว์ | ผลลัพธ์คาดหวัง |
|------|---------|-----------|-------------|-----------------|
| KP01 | ✅ | ยื่นหัวข้อพร้อมที่ปรึกษา | Form KP01 | สถานะ "รอที่ปรึกษา" |
|  | ⚠️ | เพิ่มสมาชิกที่ไม่ผ่าน eligibility | Modal error | ระบบปฏิเสธและแจ้งสาเหตุ |
| KP02 | ✅ | ขอสอบ Project 1 | Checklist ครบ + เอกสาร | สถานะ "เตรียมสอบ" |
|  | ⚠️ | Meeting logbook ไม่ครบ | Attempt submit | ระบบเตือน และไม่ให้ส่ง | 
| Defense | ✅ | 30-Day Request ≥ 30 วัน | บันทึก timeline | สถานะ timeline อัปเดต |
|  | ❌ | ยื่น KP02 Thesis ก่อนครบ 30 วัน | ระบบ validation | ปฏิเสธและแจ้งวันขั้นต่ำ |
| Closure | ✅ | ปิดโครงงานหลังแก้ไขครบ | ปุ่มปิดโปรเจ็กต์ | สถานะเป็น "Completed" |
|  | ❌ | พยายามปิดทั้งที่ไฟล์ยังไม่อนุมัติ | ปุ่ม grey-out | Tooltip แจ้ง "รอไฟล์แก้ไข" |

---

## 3. การเทียบความครอบคลุมระหว่าง PDF เดิมกับแผนใหม่

| หมวด | PDF เดิม | แผนใหม่ (เพิ่ม/ปรับ) | สถานะ |
|-------|-----------|------------------------|-------|
| Login | Happy path + invalid password | เพิ่ม edge กรณีบัญชีถูกปิด / session guard | ✅ สอดคล้องหลังเพิ่ม edge |
| Student Internship | ครบทั้งการยื่น, อนุมัติ, logbook, หนังสือ | เพิ่ม validation เรื่องไฟล์, ชั่วโมงไม่ครบ, reminder supervisor | ✅ ครอบคลุมกว้างขึ้น |
| Support Staff | ปรับหน่วยกิต, ตรวจเอกสาร, เพิ่มกำหนดการ, upload csv | เพิ่ม edge เรื่อง Active curriculum, CSV schema ผิด, ไฟล์ใหญ่ | ⚠️ ควรเพิ่มในสคริปต์เดโม |
| Head of Department | อนุมัติหนังสือ | เพิ่มเคสปฏิเสธ/ย้อนกลับเพื่อโชว์ workflow | ⚠️ เสริมตัวอย่างการใช้ comment |
| Advisor/Supervisor | ส่งอีเมลประเมิน, approve logbook | เพิ่ม rejection feedback, ลิงก์หมดอายุ | ✅ พร้อมสำหรับเดโม |
| Capstone Project | มีเพียง KP01 initial | เพิ่ม KP02, Defense, Closure, Edge eligibility | ❗ ต้องเตรียม demo data เพิ่ม |

---

## 4. ช่องว่างและข้อเสนอเพิ่มเติม

1. **Validation Edge Cases** – เตรียมไฟล์ตัวอย่างผิดรูปแบบ (ขนาดเกิน, นามสกุลผิด, Curriculum code ไม่ถูกต้อง) เพื่อโชว์ระบบป้องกันข้อมูลผิดพลาด
2. **Eligibility Agent** – ก่อนเดโมรันสคริปต์ `eligibilityUpdater` ให้ข้อมูลนักศึกษาสอดคล้องกับเกณฑ์ใหม่ เพื่อเล่าเรื่องอัปเดตอัตโนมัติได้จริง
3. **Capstone Flow** – จัดเตรียมข้อมูลนักศึกษากลุ่มตัวอย่างให้ผ่านทั้ง KP01 → KP02 → Defense → Closure พร้อมสถานะสะท้อนบน timeline
4. **หัวหน้าภาคปฏิเสธเอกสาร** – สร้างเคสตัวอย่างที่หัวหน้าภาคปฏิเสธพร้อมเหตุผล เพื่อสาธิตการส่งกลับไปยังเจ้าหน้าที่อย่างครบวงจร
5. **Email/Supervisor UX** – มีภาพหน้าจออีเมลอนุมัติ/แบบประเมินจากมุมมองพี่เลี้ยงเพื่อให้ผู้ชมเห็นประสบการณ์ end-to-end

---

## 5. แนวทางการนำไปใช้ในเดโมจริง

- **เตรียมสคริปต์เล่าเรื่อง**: แบ่งเดโมเป็นตอน (Support Staff → Student → Advisor → Head → Capstone) เพื่อให้ผู้ชมเห็นการส่งต่องานจริง
- **ใช้สีและไอคอน**: บนสไลด์ควรใช้สัญลักษณ์ ✅ ⚠️ ❌ แยกประเภท test case ให้เข้าใจง่าย
- **เช็คระบบล่วงหน้า**: ตรวจ API health, agent, mail service, และ rebuild frontend ก่อนขึ้นเวที เพื่อลดความเสี่ยง
- **เตรียมบัญชีจำลอง**: สร้าง user/token สำหรับแต่ละบทบาทและล็อกอินไว้ใน browser หลายแท็บ เพื่อสลับได้รวดเร็ว
- **มีแผน fallback**: หากระบบสดมีปัญหา ให้เตรียมวีดีโอ/ภาพหน้าจอสำหรับเคสสำคัญ เช่น KP02, supervisor evaluation
- **เน้นประโยชน์เชิงธุรกิจ**: ระหว่างสาธิตให้เน้น Pain point ที่ระบบช่วยแก้ เช่น ลดเอกสาร manual, การติดตามสถานะอัตโนมัติ

---

## 6. ภาคผนวก – Mapping รายการจาก PDF เดิม

- **หมวด Login**: Test Case 1–4 (นักศึกษา, เจ้าหน้าที่, อาจารย์, หัวหน้าภาค) + กรณี credential ผิด → จัดอยู่ในหมวด “การเข้าสู่ระบบและสิทธิ์ผู้ใช้”
- **หมวดปรับหน่วยกิต**: Test Case "ตรวจสอบการแก้ไขโดย student" และ "ตรวจสอบการแก้ไขโดยเจ้าหน้าที่" → ใช้เป็นตัวอย่างผลลัพธ์หลังปรับ eligibility
- **หมวดคำร้อง คพ.05**: รวมทุกกรณี (ส่ง, ถูกปฏิเสธ, ดาวน์โหลดหนังสือ) → นำมาใช้เป็น Happy/Negative ใน Step S2–S3
- **หมวด Logbook & Evaluation**: ชุด Test Case "ส่งคำขออนุมัติผ่านอีเมล", "การประเมินผลการฝึกงาน", "ดาวน์โหลดสรุป" → ใช้สำหรับส่วน S4–S5 และ Advisor Flow
- **หมวดเจ้าหน้าที่/หัวหน้าภาค**: รายการอนุมัติ/ปฏิเสธเอกสาร → จัดใน flow Support Staff / Head of Department
- **หมวดโครงงานพิเศษ**: Test Case ยื่นหัวข้อ → เป็นจุดเริ่มสำหรับ Capstone KP01

> เอกสารนี้สามารถปรับปรุงต่อได้เมื่อมี Test Case ใหม่, ฟีเจอร์เพิ่มเติม หรือฟีดแบ็กจากการเดโมครั้งถัดไป
